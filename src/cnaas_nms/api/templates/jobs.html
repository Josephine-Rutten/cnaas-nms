<html>
  <head>
    <title>CNaaS</title>
  </head>
  <style>
  #users {
      font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
      border-collapse: collapse;
      width: 100%;
  }
  #users td, #users th {
      border: 1px solid #ddd;
      padding: 8px;
  }
  #users tr:nth-child(even){background-color: #f2f2f2;}
  #users tr:hover {background-color: #ddd;}
  #users th {
      padding-top: 12px;
      padding-bottom: 12px;
      text-align: left;
      background-color: #4CAF50;
      color: white;
  }
  </style>

  <body style="background-color:#d0d0d0;text-align:left">
    <table id="users">
      <tr>
	<th>Job ID</th>
	<th>Start time</th>
	<th>Endd time</th>
	<th>Status</th>
	<th>Function name</th>
	<th>Devices</th>
	<th>Result</th>
      </tr>
      
      {% for job in jobs %}
      <tr>
	<td>{{ job.id }}</td>
	<td>{{ job.start_time }}</td>
	<td>{{ job.finish_time }}</td>
	<td>{{ job.status }}</td>
	<td>{{ job.function_name }}</td>
	<td>
	  {% if job.result %}
	    {% for devices in job.result %}
	      {{ devices }}
	    {% endfor %}
	  {% endif %}
	</td>
	<td>
	  {% if job.result %}
	    {% for devices in job.result %}
	      {% for result in job.result[devices] %}
	        {{ result }} <br/><br/>
	      {% endfor %}
	    {% endfor %}
	  {% elif job.exception %}
	    {{ job.exception }}
	  {% endif %}
	</td>
      </tr>
      {% endfor %}
    </table>
  </body>
</html>
